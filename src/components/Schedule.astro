---
import ScheduleItem from './ScheduleItem.astro'

const schedule = [
	{
		title: '🎶 Cuenta atrás con Live Coding Music'
	},
	{
		start: '17:00',
		duration: '15 min.',
		speaker: 'Miguel Ángel Durán',
		speakerPhoto: 'midudev.webp',
		title: '👋 Hola mundo, hola miduConf!'
	},
	{
		start: '17:15',
		duration: '15 min.',
		speaker: 'Guillermo Rauch, CEO de Vercel',
		speakerPhoto: 'rauchg.webp',
		title: '🚀 Q&A: Hablando del futuro de la web'
	},
	{
		start: '17:35',
		duration: '15 min.',
		speaker: 'Codely Team',
		speakerPhoto: 'codely.webp',
		title: '⚛️ Programación Reactiva de 0 a 100'
	},
	{
		title: '👩‍🎓 Sorteo suscripciones a CodelyTV por 3 meses'
	},
	{
		start: '18:00',
		duration: '15 min.',
		speaker: 'Freddy Vega, CEO de Platzi',
		speakerPhoto: 'freddier.webp',
		title: '📚 Q&A: Programación y enseñanza'
	},
	{
		title: '🎓 Sorteo suscripciones a Platzi'
	},
	{
		start: '18:20',
		duration: '10 min.',
		speaker: 'Irene M. Morgado',
		speakerPhoto: 'irene-morgado.webp',
		title: '💬 Lo que quieres saber en las entrevistas y no preguntas'
	},
	{
		title: '📘 25 libros de Aprendiendo Git'
	},
	{
		start: '18:40',
		duration: '10 min.',
		speaker: 'Daniel de la Cruz',
		speakerPhoto: 'delacruz.webp',
		title: '🙅‍♂️ Tu trabajo no es escribir código'
	},
	{
		title: '⌨️ Sorteo teclado Keychron K3 version 2'
	},
	{
		start: '19:00',
		duration: '15 min.',
		speaker: 'Rómulo Cintra',
		speakerPhoto: 'romulo.webp',
		title: '☕ TC39: De propuesta a JavaScript'
	},
	{
		start: '19:20',
		duration: '15 min.',
		speaker: 'Debbie O\'Brien',
		speakerPhoto: 'obrien.webp',
		title: '✅ Tests E2E con Playwright'
	},
	{
		title: '📘 25 libros de Aprendiendo Git'
	},
	{
		start: '19:40',
		duration: '15 min.',
		speaker: 'Yodra López',
		speakerPhoto: 'yodra.webp',
		title: '🏗 Refactorizar sin test y no morir en el intento'
	},
	{
		title: '👩‍💻 Sorteo licencia para 1 Año de Intellij'
	},
	{
		start: '20:00',
		duration: '15 min.',
		speaker: 'Nerea Luis',
		speakerPhoto: 'nerea.webp',
		description: 'Hablemos de qué ha pasado en los últimos dos años y de las proyecciones que tiene la Inteligencia Artificial en el medio plazo. ¿Tiene sentido formarme en IA? ¿Debería preocuparme el futuro de mi trabajo? ¿Por dónde empiezo? son algunas de las preguntas que trataré de responder',
		title: '🤖 ¿Por qué debería interesarte la Inteligencia Artificial?'
	},
	{
		start: '20:20',
		duration: '20 min.',
		speaker: 'Carlos Blé',
		speakerPhoto: 'carlos.webp',
		title: '🚦 Código sostenible'
	},
	{
		title: '📚 Sorteo libro Código Sostenible'
	},
	{
		start: '20:45',
		duration: '15 min.',
		speaker: 'Estefany Aguilar',
		speakerPhoto: 'teffcode.webp',
		title: '🎨 UX para Developers'
	},
	{
		title: '📘 25 libros de Aprendiendo Git'
	},
	{
		start: '21:05',
		duration: '10 min.',
		speaker: 'Leonardo Poza',
		speakerPhoto: 'leonardo.webp',
		title: '💼 Dale caña a tu CV para ser contratado'
	},
	{
		title: '🎟️ Sorteo entrada a la Tarugo Conf'
	},
	{
		start: '21:20',
		duration: '15 min.',
		speaker: 'Marta Arcones',
		speakerPhoto: 'marta.webp',
		title: '🧪 Probando... 1, 2, 3 con Cypress'
	},
	{
		title: '🎟️ Sorteo suscripciones de CodelyTV por 6 meses'
	},
	{
		start: '21:40',
		duration: '15 min.',
		title: '👩🏻‍💻 Cómo crecer profesionalmente y generar un impacto en los demás',
		speaker: 'Samar Jaffal',
		speakerPhoto: 'samar.webp'
	},
	{
		title: '📘 25 libros de Aprendiendo Git'
	},
	{
		start: '22:00',
		duration: '20 min.',
		title: '♻️ Si empezase de nuevo en programación...',
		speaker: 'Goncy Pozzo & vamoacodear',
		speakerPhoto: 'goncy-noe.webp'
	},
	{
		title: '🎟️ Sorteo suscripciones de CodelyTV por 1 año'
	}
]
---

<section id='agenda' class='w-full max-w-5xl px-6 pb-40 mx-auto'>

	<h2 class='flex flex-col py-24 text-4xl font-black text-center text-white sm:text-6xl'>
		<span class='leading-tight text-transparent bg-clip-text bg-gradient-to-r from-amber-300 via-amber-500 to-amber-100'
		>Agenda
		</span>
		<span class='mt-2 text-xl font-bold text-white opacity-85' id='timezone'></span>
	</h2>

	<div class='border-4 border-yellow-300 rounded bg-slate-700'>

		{
			schedule.map(item => {
				if (!item.start) {
					return (
						<article class='flex flex-col items-center justify-center py-4 text-center border-b bg-slate-800 gap-y-4 md:flex-row md:gap-y-0 border-b-yellow-400'>
							<div class='flex flex-col items-center order-3 px-8 font-bold md:-order-none gap-x-2'>
								<h4 class='text-xl text-yellow-300 md:text-3xl'>{item.title}</h4>
							</div>
						</article>
					)
				}

				return <ScheduleItem {...item} />
			})
		}
	</div>
</section>

<script>
const transformCities = {
	Canary: 'Islas Canarias'
}

const { timeZone } = Intl.DateTimeFormat().resolvedOptions()
const cityTimeZone = timeZone.replaceAll('_', ' ')
const diff = new Date().getTimezoneOffset() / 60 * -1
const gmt = diff > 0 ? `GMT+${diff}` : `GMT-${Math.abs(diff)}`

const cleanCityTimeZone = transformCities[cityTimeZone] || cityTimeZone

document.getElementById('timezone').innerText = `Horarios para ${cleanCityTimeZone} — ${gmt}`
</script>
